# 第3天 : 语言元素
> **作者**：长行
>
> **时间**：2020.05.05

## 变量
### 使用变量
此前，我们已经了解了控制台输入和输出的方法，通过以下代码，我们可以实现了读取用户想到的数字并输出。

```python
number = input("你想到了什么数字? ")
print("你想到的数字是:", number)
```
在这段代码中：第一行我们使用input()函数从控制台读取了用户输入的内容，并将其存入了名为number的变量中，而在第二行中，我们使用print()函数将number变量的值输出到了控制台中。\
我们通常将第一行对number变量的操作称为“变量赋值”，将第二行对number变量的操作称为“引用变量”。
### 变量类型
接着，我们想要返回用户想到数字的平方。

```python
number = input("你想到了什么数字? ")
print("你想到数字的平方是:", number * number) # 这一行会报错
```
在这段代码中，我们使用number*number来计算number变量的平方。但是不但不能得到我们想要的结果，返回还会令程序报错。\
这是因为变量是有类型的区别的。我们从控制台读取的用户想要的数字是一个字符串，而对于一个字符串来说，它自己乘自己是无法被计算的。因此，我们需要在乘方之前，先将这个字符串转化为数字，这样就可以计算了。

```python
number = input("你想到了什么数字? ")
print("你想到数字的平方是:", int(number) * int(number))
```
在这段代码中：我们使用int()函数，先将字符串类型的number变量转换为数字类型的变量，而后再计算平方，就不再会报错，可以得到我们想要的结果了。\
由此可知，不同类型的Python变量能够进行的运算是不一样的，它们之间也是可以进行转换的。
在Python中，我们常见的变量类型包括：
* 整型(int)：任意大小的整数
* 浮点型(float)：任意长度的小数
* 字符串型(str)：任意长度的文本
* 布尔型(bool)：布尔型变量只有True和False两种值
* 复数(complex)：任意长度的复数(实部+虚部)

#### 检查变量的类型
具体的，我们可以使用type()来检查变量的类型。
```python
var_1 = 3  # 整型(int)
var_2 = 3.1415926  # 浮点型(float)
var_3 = 2 + 1j  # 虚数(complex)
var_4 = "Hello World"  # 字符串(str)
var_5 = True  # 布尔型(bool)
print(type(var_1))  # 输出值: <class 'int'>
print(type(var_2))  # 输出值: <class 'float'>
print(type(var_3))  # 输出值: <class 'complex'>
print(type(var_4))  # 输出值: <class 'str'>
print(type(var_5))  # 输出值: <class 'bool'>
```

#### 变量类型的转换
类似的，我们也可以使用int()、str()等方法将转换变量的类型。
```python
var = 3.1415926
print(type(int(var)),int(var))  # 输出值: <class 'int'> 3
print(type(str(var)),str(var))  # 输出值: <class 'str'> 3.1415926
```

变量赋值方法与基础运算详见：[常用变量类型与基础运算](https://github.com/Changxing97/Python-Data-mining-Tutorial/blob/master/Week-01/Day03/%E5%B8%B8%E7%94%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%9F%BA%E7%A1%80%E8%BF%90%E7%AE%97.ipynb) 

### 变量命名
在给第一次赋值变量时，就命名了变量，在Python中，命名变量有如下规则：
* 变量名应由字母或下划线开头，并由字母、数字、下划线(_)组成
* 变量名不能与Python关键字同名，但可以包含关键字

通常来说，我们在命名变量名时，首字母不大写，不使用驼峰式，即thisIsVariable；而是使用下划线，即this_is_variable。（全局变量全部大写）

## 变量基本操作
下面，我们了解一下数值型变量和字符串变量的基本操作。
### 数值变量的基本操作
对于数值变量。我们首先，数值变量可以直接进行加减乘除的运算，也可以通过括号来调整计算顺序。
```python
a = 3
b = 5
print(a + b)  # 输出值: 8
print(b / a)  # 输出值: 1.6666666666666667
print((a + b) * b)  # 输出值: 40
```
有的时候，我们不需要得到小数形式的商，而是需要得到商的整数，也就是“取模”，可以使用“//”运算符；又或者只需要得到余数，也就是“取余”，可以使用“%”运算符。
```python
a = 3
b = 5
print(b // a)  # 输出值: 1
print(b % a)  # 输出值: 2
```
还有的时候，我们需要进行幂运算，可以使用“**”运算符。
```python
print(3 ** 5)  # 输出值: 243
```

### 字符串的基本操作
字符串的定义方法很简单，使用`"`和`'`都可以。
```python
var_1 = "Hello World"
var_2 = 'Hello World'
```
#### 字符串的四则运算
字符串也可以进行加法和乘法的计算，加法必须是字符串加字符串，乘法必须是字符串乘整数。
```python
var_1 = "Hello World"
var_2 = 'Hello'
print(var_1 + var_2)  # 输出值: Hello WorldHello
print(var_2 * 2)  # 输出值: HelloHello
```
#### 字符串长度
我们还可以通过len()函数来获取字符串的长度。
```python
var_1 = "Hello World"
var_2 = 'Hello'
print(len(var_1))  # 输出值: 11
print(len(var_2))  # 输出值: 5
```
#### 截取字符串
此外，有的时候我们需要获取字符串的某个部分，可以使用`[:]`来提取。
```python
var_1 = "Hello World"
print(var_1[3])
print(var_1[3:5])
```
（应注意序号是从0开始计算的，第n个字符的序号为n-1；序号范围是从左闭右开区间，第n个字符到第m个字符的序号为n-1到m）

## 运算符
### 算术运算符
在以上的内容中，我们已经涉及了加、减、乘、除、取余、取模、幂运算共7种运行。这类用于运算的符号叫做“运算符”，之前我们涉及的7种运算符都属于“算术运算符”。

| 运算符 | 功能 |
| ------ | ------ |
| + | 数字+数字=求和;字符串+字符串=按前后顺序合并字符串 |
| - | 数字-数字=计算差值 |
| \* | 数字\*数字=求积;字符串\*数字=重复若干次的字符串 |
| / | 数字/数字=求商 |
| % | 数字%数字=取余(除法的余数部分) |
| // | 数字//数字=取模(商的整数部分) |
| \*\* | 数字\*\*数字=幂运算(前数的后数次幂) |

```python
a = 5
b = 3
print(a + b)  # 输出值: 8
print(a - b)  # 输出值: 2
print(a * b)  # 输出值: 15
print(a / b)  # 输出值: 1.6666666666666667
print(a % b)  # 输出值: 2
print(a // b)  # 输出值: 1
print(a ** b)  # 输出值: 125
```
除了算术运算符以外，还有赋值运算符、比较运算符、逻辑运算符、成员运算符、身份运算符、位运算符。

### 赋值运算符
下面，我们先来了解和算术运算符一样，也与计算相关的赋值运算符。这类运算符可以在为变量赋值的同时进行进行运算。

| 运算符 | 功能 |
| ------ | ------ |
| = | 将等号后的内容赋值给等号前的变量；例如：a=3就是将3赋值给了变量a |
| += | 将等号后的内容加给等号前的变量，例如：a+=3就等同于a=a+3 |
| -= | 将等号后的内容减给等号前的变量，例如：a-=3就等同于a=a-3 |
| \*= | 将等号后的内容乘给等号前的变量，例如：a\*=3就等同于a=a\*3 |
| /= | 将等号前的内容作为被除数，等号后的内容作为除数，并将除法的结果赋值给等号前的变量；例如：a/=3就等同于a=a/3 |
| %= | 将等号前的内容作为被除数，等号后的内容作为除数，并将取余的结果赋值给等号前的变量；例如：a%=3就等同于a=a%3 |
| //= | 将等号前的内容作为被除数，等号后的内容作为除数，并将取模的结果赋值给等号前的变量；例如：a//=3就等同于a=a//3 |
| \*\*= | 计算等号前数的等号后数次幂，并将结果赋值给等号前的变量；例如：a\*\*=3就等同于a=a\*\*3 |

```python
b = 3
a = 5
a += b
print(a)  # 输出值: 8
a = 5
a -= b
print(a)  # 输出值: 2
a = 5
a *= b
print(a)  # 输出值: 15
a = 5
a /= b
print(a)  # 输出值: 1.6666666666666667
a = 5
a %= b
print(a)  # 输出值: 2
a = 5
a //= b
print(a)  # 输出值: 1
a = 5
a **= b
print(a)  # 输出值: 125
```

### 比较运算符
比较运算符是用来比较两个变量之间的大小关系的，其比较结果为布尔型。

| 运算符 | 功能 |
| ------ | ------ |
| == | 判断前后两个变量是否相同；若两个变量相同则返回True，反之返回False |
| != | 判断前后两个变量是否不相同；若两个变量不相同则返回True，反之返回False |
| > | x>y即为判断x是否大于y；若x大于y，则返回True，反之返回False |
| < | x<y即为判断x是否小于y；若x小于y，则返回True，反之返回False |
| >= | x>=y即为判断x是否大于或等于y；若x大于或等于y，则返回True，反之返回False |
| <= | x<=y即为判断x是否小于或等于y；若x小于或等于y，则返回True，反之返回False |

```python
b = 3
a = 5
print(a == b)  # 输出值: False
print(a != b)  # 输出值: True
print(a > b)  # 输出值: True
print(a < b)  # 输出值: False
print(a >= b)  # 输出值: True
print(a <= b)  # 输出值: False
```

### 逻辑运算符
逻辑运算符是用来将简单的逻辑语句连接成更复杂的逻辑语句的运算符，包括或(or)、与(and)和非(not)。

| 运算符 | 功能 |
| ------ | ------ |
| or | x or y；若x或y中有一个为True，结果即为True；只有x和y均为False结果才为False |
| and | x and y；若x和y中均为True，结果才为True；在x和y中只要有一个为False，结果就为False |
| not | not y；若y为True，则结果为False；若y为False，则结果为True |

```python
a = True
b = False
print(a and b)  # 输出值: False
print(a or b)  # 输出值: True
print(not b)  # 输出值: True
```

### 成员运算符
成员运算符(in)是用来判断序列中是否包含某个元素的运算符，这个序列可以是字符串、集合、列表或元组等。若序列包含该元素，则返回结果为True，否则返回False。

```python
a = [1, 2, 3, 4, 5]
b = 3
c = 6
print(b in a)  # 输出值: True
print(c in a)  # 输出值: False
```

### 身份运算符
身份运算符(is)是用来判断变量是否来自同一个对象。若为同一个对象，则结果为True，否则结果为False。

```python
a = 20
b = 10
print(a is b)  # 输出值: False
print(a is not b)  # 输出值: True
```

### 位运算符(选学)
位运算符是将数字视作二进制来进行计算，运算效率更高，但我们在学习之初极少会用到。

```python
a = 10  # 0000 1010
b = 5  # 0000 0101
print(a & b)  # 输出值: 0
print(a | b)  # 输出值: 15(0000 1111)
print(a ^ b)  # 输出值: 15(0000 1111)
print(~a)  # 输出值: -11(1111 0101)
print(a << 2)  # 输出值: 40(0010 1000)
print(a >> 2)  # 输出值: 2(0000 0010)
```

| 运算符 | 功能 |
| ------ | ------ |
| & | 按位与：若两个变量在某一位均为1，则该位为1；例如：1010&0101=0000 |
| / | 按位与：若两个变量在某一位只有有一个为1，则该位为1；例如：1010&0101=1111 |
| ^ | 按位异：若两个变量在某一位取值不同，则该位为1；例如：1010&0101=1111 |
| ~ | 按位取反：将变量在所有位上的值取反，相当于计算-x-1；例如：~00001010=11110101 |
| << | 左移位：a<<2即将a向左移动两位，相当于乘以4；例如：00001010<<2=00101000 |
| >> | 右移位：a>>2即将a向右移动两位，相当于除以4；例如：00001010>>2=00000010 |

## 注释
代码中的注释，在程序执行时会被忽略，主要是为了向协作者和未来的自己说明代码的思路、功能。我们在注释时应假设阅读者比我们的Python水平要高，阅读注释只是为了更快地理解代码要做什么，切忌直接描述代码。另外，注释也不宜过多，一般占到源代码的1/3左右是比较合适的。\
在Python中，主要有两种注释的方法，分别为单行注释和多行注释。
单行注释使用`#`标记，可以单作一行，也可以用在其他行的结尾，这类注释主要用来解释一段代码（单作一行的情况）或用来解释该行代码的作用。为了提高可读性，放在行尾的注释距离代码至少间隔2个空格以上。
```python
# 这是一段单行注释
print("Hello World") # 这也是一段单行注释
```
多行注释前后使用`"""`或`'''`标记，这类注释主要用来解释类、函数、文件等。在类的注释中，一般包括作者(@author)、属性(@param)等；在函数的注释中，一般包括作者(@author)、参数(@param)、返回值(@return)以及抛出的异常(@raises)等。
```python
"""
这是一段多行注释
"""
"""多行注释也可以是这样的"""
```