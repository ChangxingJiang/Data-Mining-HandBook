# 【配套知识】点到超平面距离公式的推导过程

> 【例2】已知$S$为维n欧式空间中的n-1维超平面
> $$
> S \ : \ \bold{w}·x + b =0
> $$
> 其中 $\bold{w}$ 和 $x$ 均为n维向量。
>
> n维空间中的点 $x_0 = (x_0^{(1)},x_0^{(2)},\cdots,x_0^{(n)})$ 。
>
> 求证：点 $P$ 到超平面 $S$ 的距离 $d = \frac{1}{||w||_2} |\bold{w}·x_0+b|$ ，其中 $||w||_2$ 为 $w$ 的2-范数。

##### 证明

由超平面 $S$ 的定义式可知 $w$ 为超平面 $S$ 的法向量， $b$ 为超平面 $S$ 的截距。

设点 $x_0$ 在超平面 $S$ 上的投影为 $x_1 = (x_1^{(1)},x_1^{(2)},\cdots,x_1^{(n)})$ ，则有

$$
\bold{w} · x_1 + b = 0 \tag{1}
$$

点 $P$ 到超平面 $S$ 的距离 $d$ 即为向量 $\vec{x_0 x_1}$的长度。

因为 $\vec{x_0 x_1}$ 与超平面 $S$ 的法向量 $w$ 平行，所以 $\vec{x_0 x_1}$ 与法向量夹角的余弦值 $cos \theta = 0$ ，故有 
$$
\begin{aligned}
\bold{w} · \vec{x_0 x_1} 
& = |\bold{w}| \ |\vec{x_0 x_1}| \ cos \theta \\
& = |\bold{w}| \ |\vec{x_0 x_1}| \\
& = [(w^{(1)})^2 + (w^{(2)})^2 + \cdots + (w^{(n)})^2]^\frac{1}{2} \ d \\
& = ||w||_2 d
\end{aligned}
\tag{2}
$$

又有（应用向量点积的分配律）
$$
\begin{aligned}
\bold{w} · \vec{x_0 x_1} 
& = w^{(1)} (x_1^{(1)} - x_0^{(1)}) + w^{(2)} (x_1^{(2)} - x_0^{(2)}) + \cdots + w^{(n)} (x_1^{(n)} - x_0^{(n)}) \\
& = (w^{(1)} x_1^{(1)} + w^{(2)} x_1^{(2)} + \cdots + w^{(n)} x_1^{(n)}) - (w^{(1)} x_0^{(1)} + w^{(2)} x_0^{(2)} + \cdots + w^{(n)} x_0^{(n)}) \\
& = \bold{w}·x_1 - \bold{w}·x_0
\end{aligned}
\tag{3}
$$

由式(1)，有$w·x_1 = -b$，故式(3)可以写成
$$
\begin{aligned}
\bold{w} · \vec{x_0 x_1} 
& = \bold{w}·x_1 - \bold{w}·x_0 \\
& = -b - \bold{w}·x_0
\end{aligned}
\tag{4}
$$
由式(2)和式(4)，得
$$
\begin{aligned}
||w||_2 d = |-b - \bold{w}·x_0| \\
d = \frac{1}{||w||_2} |\bold{w}·x_0+b|
\end{aligned}
$$

得证。